(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{300:function(e,t,n){"use strict";n.r(t);var r=n(16),a=Object(r.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"testing-library-for-vue-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#testing-library-for-vue-3"}},[e._v("#")]),e._v(" Testing library for vue 3")]),e._v(" "),t("h3",{attrs:{id:"каркас-теста"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#каркас-теста"}},[e._v("#")]),e._v(" Каркас теста")]),e._v(" "),t("p",[e._v("Подключаем библиотеку и достаем нужные нам методы\nimport { render, screen, fireEvent } from '@testing-library/vue';\nПодключаем нужный нам компонент который хотим проверить\nimport AppWidget from '@/AppWidget.vue';\nimport { render, screen, fireEvent } from '@testing-library/vue';\nimport AppWidget from '@/AppWidget.vue';")]),e._v(" "),t("p",[e._v("describe('AppWidget.vue', () => {")]),e._v(" "),t("p",[e._v("it('Render AppWidgetStatus', () => {")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("render(AppWidget);\n\n    тут пишем код\n")])])]),t("p",[e._v("});\n});")]),e._v(" "),t("h3",{attrs:{id:"тест-на-присутствие-текста-в-компоненте"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#тест-на-присутствие-текста-в-компоненте"}},[e._v("#")]),e._v(" Тест на присутствие текста в компоненте")]),e._v(" "),t("p",[e._v("// проверяем, есть ли такой текст в компоненте, иначе будет ошибка.\n// должен  1 в 1 совпадать\nexpect(screen.getByText('Активный'));\nimport { render, screen, fireEvent } from '@testing-library/vue';\nimport AppWidget from '@/AppWidget.vue';")]),e._v(" "),t("p",[e._v("describe('AppWidget.vue', () => {\nit('Render AppWidgetStatus', () => {")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("render(AppWidget);\n\nexpect(screen.getByText('Активный'));\n")])])]),t("p",[e._v("});\n});")]),e._v(" "),t("h3",{attrs:{id:"тест-по-data-test-id"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#тест-по-data-test-id"}},[e._v("#")]),e._v(" Тест по data-test-id")]),e._v(" "),t("p",[e._v('// Вешаем на нужный нам элемент атрибут data-testid="counter-days"\n// (в верстке на div например) - например\n// после заходим и пишем тест, присутствует ли он или нет, иначе будет ошибка')]),e._v(" "),t("p",[e._v("expect(screen.getByTestId('counter-days'));\nimport { render, screen, fireEvent } from '@testing-library/vue';\nimport AppWidget from '@/AppWidget.vue';")]),e._v(" "),t("p",[e._v("describe('AppWidget.vue', () => {\nit('Render AppWidgetStatus', () => {")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("render(AppWidget);\nexpect(screen.getByTestId('counter-days'));\n")])])]),t("p",[e._v("});\n});")]),e._v(" "),t("h3",{attrs:{id:"проверяем-наличие-css-class-а"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#проверяем-наличие-css-class-а"}},[e._v("#")]),e._v(" Проверяем наличие css class-а")]),e._v(" "),t("p",[e._v("// Получаю контейнер нашего компонента\nconst { container } = render(NavBar);")]),e._v(" "),t("p",[e._v("// получаю конкретный элемент который хотим протестить\nconst linkParent = container.querySelector('.linkParent');")]),e._v(" "),t("p",[e._v("// проверяю весит ли на нашей ссылке, конкретный класс (linkParentActive)\nif (linkParent !== undefined && linkParent !== null) {\nexpect(linkParent.classList.contains('linkParentActive')).toBe(true);\n}")]),e._v(" "),t("p",[e._v("import { render, screen, fireEvent } from '@testing-library/vue';\nimport NavBar from '@/components/NavBar.vue';")]),e._v(" "),t("p",[e._v("describe('NavBar.vue', () => {\nit('Render component NavBar', () => {")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("const { container } = render(NavBar);\n\nconst linkParent = container.querySelector('.linkParent');\n\nif (linkParent !== undefined && linkParent !== null) {\n  expect(linkParent.classList.contains('linkParentActive')).toBe(true);\n}\n")])])]),t("p",[e._v("});\n});")]),e._v(" "),t("h3",{attrs:{id:"событие-наведение-мышки-уход-мышки"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#событие-наведение-мышки-уход-мышки"}},[e._v("#")]),e._v(" событие наведение мышки / уход мышки")]),e._v(" "),t("p",[e._v("// тут нужно обязательно ставить async + await\nit('Render AppWidgetStatus', async () => {\n//асинхронно вызываем метод fireEvent (работает специально на события)\n// и обращаемся какое событие тестируем\n//например при наведение на кнопку, мы вешаем data-testid = badge-verification\n//кнопка появляется и и проверяем на текст getByText")]),e._v(" "),t("p",[e._v("await fireEvent.mouseOver(screen.getByTestId('badge-verification'));\nexpect(screen.getByText('Необходимо подписать договор'));\n//тоже самое, но проверяем если убираем мышку с элемента\n//и проверяем нет ли такого текста queryByText")]),e._v(" "),t("p",[e._v("await fireEvent.mouseLeave(screen.getByTestId('badge-verification'));\nexpect(screen.queryByText('Необходимо подписать договор'));\nimport { render, screen, fireEvent } from '@testing-library/vue';\nimport AppWidget from '@/AppWidget.vue';")]),e._v(" "),t("p",[e._v("describe('AppWidget.vue', () => {")]),e._v(" "),t("p",[e._v("it('Render AppWidgetStatus', async () => {")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("render(AppWidget);\n\nawait fireEvent.mouseOver(screen.getByTestId('badge-verification'));\nexpect(screen.getByText('Необходимо подписать договор'));\n\nawait fireEvent.mouseLeave(screen.getByTestId('badge-verification'));\nexpect(screen.queryByText('Необходимо подписать договор'));\n")])])]),t("p",[e._v("});\n});")]),e._v(" "),t("h3",{attrs:{id:"событие-клика-на-элемент"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#событие-клика-на-элемент"}},[e._v("#")]),e._v(" Событие клика на элемент")]),e._v(" "),t("p",[e._v("Проверка на наличие класса в элементе. Получение элемента из дом. Событие клик на элемент и проверяем что после события будет(наличие)\n// получаем контейнр нашего компонента\nconst { container } = render(NavBar);")]),e._v(" "),t("p",[e._v("// получаем нужный элемент в этом контейнере\nconst childrenList = container.querySelector('.wrapperChildrenItems');")]),e._v(" "),t("p",[e._v("// при клике на наш элемент, проверяем наличие текста children-1 =>\n// когда появился наш элемент\nif (childrenList !== undefined && childrenList !== null) {\nawait fireEvent.click(childrenList, screen.getAllByText('children-1'));\nawait fireEvent.click(childrenList, screen.getAllByText('children-2'));\n}\nimport { render, screen, fireEvent } from '@testing-library/vue';\nimport NavBar from '@/components/NavBar.vue';")]),e._v(" "),t("p",[e._v("describe('NavBar.vue', () => {\nit('Render component NavBar', async () => {\nconst { container } = render(NavBar);с")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("const childrenList = container.querySelector('.wrapperChildrenItems');\n\nif (childrenList !== undefined && childrenList !== null) {\n  await fireEvent.click(childrenList, screen.getAllByText('children-1'));\n  await fireEvent.click(childrenList, screen.getAllByText('children-2'));\n}\n")])])]),t("p",[e._v("});\n});")]),e._v(" "),t("h3",{attrs:{id:"доделать"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#доделать"}},[e._v("#")]),e._v(" доделать")]),e._v(" "),t("p",[e._v('expect(screen.getByRole(\'textbox))\n1 можно явно указать на div роль компонента название роли\nА так уже неявно они указаны в дом дереве (можно не писать) role="textbox"\nпоиск по placeholder у элемента - getByPlacegolderText\nпоиск в label текста - getByLabelText\nищет картинки по alt атрибуту - getByAltText\nищет по атрибуту value у элемента getByDisplayValue')]),e._v(" "),t("p",[e._v("если нет элемента в разметки лучше писать\nexpect(screen.queryByText(/search/i).toBeNull()")]),e._v(" "),t("p",[e._v("для асинхронности async\nнапример вначале нету текста в элементе, а позже запросом или как-то получили туда данные\nexpect(screen.queryByText(/search/i).toBeNull\nexpect(await screen.findByText(/search/i).toBeInTheDocument();")]),e._v(" "),t("p",[e._v("3 варианта поиска элементов на проверку\ngetBy - найти элемент\nqueryBy - показать что элемента нет в доме\nfindBy - изначально не было в дом, но при асинхронной операции появится")]),e._v(" "),t("p",[e._v("если элеменов несколько добавляем AllBy")]),e._v(" "),t("p",[e._v("cписок утверждений - методы (на праверку на наличие чего-то у элемента)\nотрицание - .not добавляем перед название (пример .not.toHaveClass")]),e._v(" "),t("p",[e._v("expect(screen.queryByText(/search/i).toHaveClass('nameClass') - проверяет класс у элемента")]),e._v(" "),t("p",[e._v("Нужно перевести эти все методы и записать сюда")]),e._v(" "),t("p",[e._v("FireEvent\nдоделать с этого места\nhttps://www.youtube.com/watch?v=n79PMyqcCJ8")])])}),[],!1,null,null,null);t.default=a.exports}}]);